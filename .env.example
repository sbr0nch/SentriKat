# SentriKat Environment Configuration
# Copy this file to .env and update the values for your deployment

# ============================================================================
# REQUIRED - Security Keys
# ============================================================================

# SECRET_KEY - Flask session signing key (REQUIRED)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-change-in-production

# ENCRYPTION_KEY - Fernet key for encrypting sensitive data (REQUIRED)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-fernet-encryption-key-here

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================

# PostgreSQL connection URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://sentrikat:sentrikat@db:5432/sentrikat

# Database password (used by docker-compose)
DB_PASSWORD=sentrikat

# ============================================================================
# Nginx Reverse Proxy Configuration
# ============================================================================

# Server hostname (used in nginx server_name directive)
SERVER_NAME=sentrikat.yourcompany.com

# HTTP/HTTPS ports (change if ports 80/443 are already in use)
HTTP_PORT=80
HTTPS_PORT=443

# Nginx template: nginx.conf.template (HTTP) or nginx-ssl.conf.template (HTTPS)
NGINX_TEMPLATE=nginx.conf.template

# SSL certificate path (required when using nginx-ssl.conf.template)
# Mount directory containing fullchain.pem and privkey.pem
# SSL_CERT_PATH=/etc/letsencrypt/live/sentrikat.yourcompany.com

# ============================================================================
# Application URL
# ============================================================================

# Public URL for SentriKat (used in email links, webhooks, etc.)
# Should match your SERVER_NAME with the appropriate protocol
SENTRIKAT_URL=https://sentrikat.yourcompany.com

# ============================================================================
# Flask Environment
# ============================================================================

FLASK_ENV=production

# Session cookie security (set to true when using HTTPS)
SESSION_COOKIE_SECURE=true

# ============================================================================
# CISA KEV Sync Schedule
# ============================================================================

# Daily sync time (24-hour format, UTC)
SYNC_HOUR=2
SYNC_MINUTE=0

# ============================================================================
# NVD API (Optional - For CVSS Enrichment & CPE Product Search)
# ============================================================================

# Get your free API key from: https://nvd.nist.gov/developers/request-an-api-key
#
# Rate Limits:
#   Without API key: 5 requests per 30 seconds (slower product searches)
#   With API key:    50 requests per 30 seconds (10x faster)
#
# This key is used for:
#   - Product search in Add Product dialog
#   - CVSS score enrichment during sync
#
# Can also be configured via Administration > Settings > Sync Settings
# NVD_API_KEY=your-nvd-api-key-here

# ============================================================================
# License Key (Optional - For Professional Edition)
# ============================================================================

# Professional license key for enterprise features:
#   - Custom branding
#   - Slack/Teams/Webhook integrations
#   - Advanced data retention policies
#   - Priority support
#
# Can also be configured via Administration > License
# SENTRIKAT_LICENSE=your-license-key-here

# ============================================================================
# Proxy Configuration (Optional)
# ============================================================================

# Only needed if behind a corporate proxy
# HTTP_PROXY=http://proxy.yourcompany.com:3128
# HTTPS_PROXY=http://proxy.yourcompany.com:3128
# NO_PROXY=localhost,127.0.0.1,.yourcompany.com

# SSL Certificate Verification (default: true)
# Set to 'false' only for corporate environments with SSL inspection
# VERIFY_SSL=false
